<!DOCTYPE html>
<html>
  <head>
    <title>One stop shop for your Superfinest and Supertop quality replica products - Fashluxee</title>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>
  <body>
<h1>Contact Picker</h1>
<button id="getContacts">Pick Contacts</button>
<div id="output"></div>
<script>
    document.addEventListener('DOMContentLoaded',e => {
        let btn = document.getElementById("getContacts");
        let out = document.getElementById("output");
        function display(output){
            out.textContent = output;
        }
        function on_invite(e){
            e.preventDefault();
            try {
                const props = ['name', 'tel','email'];
                const opts = { multiple: true };
                navigator.contacts.select(props, opts)
                .then((contacts) => {
                    if(contacts.length){
                        display('Selected contacts: ' + JSON.stringify(contacts));
                    } else {
                        display('Missing contacts for invitation');
                    }
                })
                .catch((error) => {
                    display('Error selecting contacts: ' + error);
                });
            } catch (error) {
                display('Error selecting contacts: ' + error);
            }
            return false;
        }
        if (!('contacts' in navigator) || !('ContactsManager' in window)) {
            btn.style.display = 'none';
            display('Contact Picker API not supported on this browser.');
            return;
        }
        btn.addEventListener("click", on_invite,false);
    });

</script>  
</body>
</html>
